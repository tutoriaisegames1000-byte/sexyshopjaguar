<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sexy Shop Jaguar</title>

<style>
:root{
  --carrinho:#DC143C;
  --amarelo:#FFD700;
}

/* ================= CARRINHO FLUTUANTE ================= */
#carrinho-flutuante{
  position:fixed;
  bottom:20px;
  right:20px;
  background:var(--carrinho);
  color:#fff;
  padding:14px 18px;
  border-radius:50px;
  cursor:pointer;
  display:none;
  align-items:center;
  gap:8px;
  font-weight:bold;
  z-index:1000;
  transition:transform .2s;
}

#carrinho-flutuante.pop{
  transform:scale(1.25);
}

#contador{
  background:#fff;
  color:var(--carrinho);
  border-radius:50%;
  padding:2px 7px;
}

/* ================= MODAL DO CARRINHO ================= */
#modal-carrinho{
  position:fixed;
  bottom:90px;
  right:20px;
  background:#111;
  color:#fff;
  padding:14px;
  border-radius:14px;
  width:260px;
  display:none;
  flex-direction:column;
  gap:6px;
  z-index:1000;
  box-shadow:0 0 15px #000;
}

#modal-carrinho p{
  margin:4px 0;
  font-size:14px;
}

#modal-carrinho button.finalizar{
  background:var(--amarelo);
  border:none;
  border-radius:12px;
  padding:10px;
  font-weight:bold;
  cursor:pointer;
  margin-top:8px;
}

#fechar-carrinho{
  position:absolute;
  top:-12px;
  right:-12px;
  background:#ff0000;
  color:#fff;
  width:28px;
  height:28px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>

<body>

<!-- CARRINHO FLUTUANTE -->
<div id="carrinho-flutuante">
  ðŸ›’ <span id="contador"></span>
</div>

<!-- MODAL -->
<div id="modal-carrinho">
  <div id="fechar-carrinho">âœ•</div>
</div>

<script>
const carrinhoFlutuante = document.getElementById("carrinho-flutuante");
const contador = document.getElementById("contador");
const modalCarrinho = document.getElementById("modal-carrinho");
const fecharCarrinho = document.getElementById("fechar-carrinho");

let carrinho = [];
let aberto = false;

/* ================= FUNÃ‡Ã•ES ================= */

function atualizarCarrinho(){
  if(carrinho.length > 0){
    carrinhoFlutuante.style.display="flex";
    contador.textContent = carrinho.length;

    // animaÃ§Ã£o POP
    carrinhoFlutuante.classList.add("pop");
    setTimeout(()=>carrinhoFlutuante.classList.remove("pop"),200);
  }else{
    carrinhoFlutuante.style.display="none";
    modalCarrinho.style.display="none";
    aberto = false;
  }
}

function abrirOuFecharCarrinho(){
  if(!aberto){
    modalCarrinho.innerHTML = '<div id="fechar-carrinho">âœ•</div>';
    carrinho.forEach(p=>{
      const item = document.createElement("p");
      item.textContent = "â€¢ " + p;
      modalCarrinho.appendChild(item);
    });

    const btn = document.createElement("button");
    btn.className="finalizar";
    btn.textContent="Finalizar Compra";
    btn.onclick = ()=>{
      const numero="5573998443608";
      const msg = encodeURIComponent(
        "OlÃ¡ gostaria de adquirir esses produtos: " + carrinho.join(", ")
      );
      window.open(`https://wa.me/${numero}?text=${msg}`,"_blank");
    };

    modalCarrinho.appendChild(btn);
    modalCarrinho.style.display="flex";
    aberto = true;
  }else{
    modalCarrinho.style.display="none";
    aberto = false;
  }
}

/* ================= EVENTOS ================= */

carrinhoFlutuante.onclick = abrirOuFecharCarrinho;

document.addEventListener("click", e=>{
  if(e.target.id === "fechar-carrinho"){
    modalCarrinho.style.display="none";
    aberto=false;
  }
});

/* ================= EXEMPLO DE BOTÃƒO PRODUTO ================= */
/* use isso nos botÃµes COMPRAR */
function adicionarProduto(nome, botao){
  const i = carrinho.indexOf(nome);
  if(i === -1){
    carrinho.push(nome);
    botao.style.background = "var(--amarelo)";
    botao.textContent = "CARRINHO";
  }else{
    carrinho.splice(i,1);
    botao.style.background = "#25D366";
    botao.textContent = "COMPRAR";
  }
  atualizarCarrinho();
}
</script>

</body>
</html>
